header {
  @media only screen and (max-width: $medium-min) {
    padding-top:40px;
  }
  background:$color2;
  position:relative;
  @include clearfix;
  .logo {
    float:left;
    margin:9px 15px;
  }
  nav.primary {
    @include clearfix;
    float:right;
    height:94px;
    margin-top:26px;
    transition:all 0.4s;
    #mobile-trigger {
      display:none;
    }
    > ul {
      @media only screen and (min-width: $medium-min) {
        // First level elements
        > li {
          display: inline-block;
          float: left;
          a {
            @include navigationGradient;
            border-bottom: 1px solid $color6;
            border-left: 1px solid $color3;
            border-top: 1px solid $color10;
            color: $color4;
            display: block;
            height:18px;
            font-size:14px;
            font-weight: 500;
            padding: 10px 22px;
            position: relative;
            text-decoration: none;
            top: 4px;
            z-index: 1;
            &:hover {
              color: $color5;
            }
          }
          > a {
            &:after {
              @include navigationSeparator;
              content:"";
              height:32px;
              position:absolute;
              right:0;
              top:4px;
              width: 1px;
            }
            &:hover:after {
              display:none;
            }
          }
          &:last-of-type, &.active {
            a:after {
              display:none;
            }
          }
          ul {
            @include clearfix;
            background: $color3;
            border-bottom: 1px solid $color7;
            height: 50px;
            left: 0;
            margin: 0 0 0 88px;
            max-width: 1200px;
            opacity: 0;
            position: absolute;
            right: 0;
            top: 68px;
            transition: all 0.4s;
            width: 100%;
            li {
              display: inline-block;
              a {
                background: $color3;
                border: 0;
                color: $color5;
                font-weight: 400;
                padding: 14px 30px 14px 0;
                &:hover {
                  color: $color4;
                }
              }
              &.active {
                a {
                  font-weight: 600;
                }
              }
            }
          }
          &:hover, &.active, &.active:hover {
            ul {
              opacity: 1;
              z-index: 1;
            }
            > a {
              background: $color3;
              border: 1px solid $color6;
              border-bottom: 1px solid $color3;
              border-top-left-radius: $radius;
              border-top-right-radius: $radius;
              box-shadow: 0px -1px 1px 0px $color5;
              color: $color5;
              padding: 13px 34px 10px;
              top: 0;
              z-index: 2;
            }
          }
          &:hover > a {
            padding: 13px 22px 10px;
          }
        }
      }
    }
    @media only screen and (max-width: $medium-min) {
      margin-top:0;
      position:absolute;
      top:0;
      width:100%;
      #mobile-trigger {
        background:#000;
        display: block;
        padding:5px;
      }
      >ul {
        background:#000;
        display:none;
        height:100vh;
        list-style-type:none;
        opacity:0.9;
        padding-left:1rem;
        z-index:10;
        li {
          a {
            display:block;
            padding:0.5rem 0;
            text-decoration:none;
          }
          > ul {
            list-style-type:none;
            padding-left:2rem;
          }
        }
        a {
          color:$color2;
          background:none;
          &:hover {
            color:$color13;
          }
        }
      }
    }
  }
  .lower {
    background:$color3;
    border-bottom:1px solid $color7;
    border-top:1px solid $color16;
    height: 50px;
    position: relative;
    top: 67px;
    z-index:0;
    @media only screen and (max-width:$medium-min) {
      display:none;
    }
  }
  @media only screen and (min-width:$medium-min) and (max-width:$large-max) {
    .lower {
      display:none;
    }
    nav.primary {
      clear:left;
      float: left;
      margin-top:0;
      > ul {
        > li {
          > a {
            display:table-cell;
            font-size: 1.5vw;
            padding: 10px 10px;
            vertical-align:middle;
          }
        }
        >li:hover, >li.active, >li.active:hover {
          > a, >a:hover {
            padding: 13px 10px 10px;
          }
          ul {
            margin-left:0;
            padding-left:10px;
            top: 117px;
          }
        }
      }
    }
  }
}